/* ===========================
   üé® GIAO DI·ªÜN CHUY√äN NGHI·ªÜP
=========================== */

:root {
  --color-bg1: #0f2027;
  --color-bg2: #203a43;
  --color-bg3: #2c5364;
  --primary: #4a90e2;
  --primary-light: #63b3ff;
  --secondary: #ff5c5c;
  --light-square: #f2d2a9;
  --dark-square: #b47c4d;
  --text-light: #f9f9f9;
  --text-muted: #c0c0c0;
  --board-size: 680px;
}

/* To√†n trang */
body {
  margin: 0;
  min-height: 100vh;
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(135deg, var(--color-bg1), var(--color-bg2), var(--color-bg3));
  color: var(--text-light);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  overflow-x: hidden;
}

/* ===========================
   HEADER
=========================== */
.header {
  text-align: center;
  margin-top: 20px;
}

.header h1 {
  font-size: 2.4rem;
  letter-spacing: 1px;
  color: #ffffff;
  background: linear-gradient(to right, #63b3ff, #ff9a9e);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 6px;
  margin-top: 5px;
}

.header p {
  color: var(--text-muted);
  font-size: 1.1rem;
}

/* ===========================
   MAIN LAYOUT
=========================== */
.main {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 30px;
}

/* ===========================
   B√ÄN C·ªú (ƒê√É S·ª¨A CHO HI·ªÇN TH·ªä T·ªåA ƒê·ªò R√åA)
=========================== */
#board {
  width: var(--board-size);
  height: var(--board-size);
  display: grid;
  grid-template-columns: repeat(8, 1fr);
  grid-template-rows: repeat(8, 1fr);
  box-shadow: 0 8px 24px rgba(0,0,0,0.4);
  background-color: #fff;
  /* üëá HAI THAY ƒê·ªîI QUAN TR·ªåNG NH·∫§T */
  overflow: visible; /* Cho ph√©p nh√£n t·ªça ƒë·ªô hi·ªÉn th·ªã ngo√†i r√¨a */
  position: relative; /* C·∫ßn thi·∫øt ƒë·ªÉ c√°c nh√£n position: absolute cƒÉn theo #board */
  /* üëÜ */
  margin-top: 20px;
}

.square {
  width: 100%;
  height: 100%;
  transition: background 0.25s ease;
}

.square[data-dark="true"] { background-color: var(--dark-square); }
.square[data-dark="false"] { background-color: var(--light-square); }


/* ===========================
   QU√ÇN C·ªú
=========================== */
.piece {
  width: 100%;
  height: 100%;
  
  /* üëá KH·∫ÆC PH·ª§C L·ªñI HI·ªÇN TH·ªä 4 QU√ÇN C·ªú B·∫∞NG background-image */
  background-size: contain; 
  background-repeat: no-repeat; 
  background-position: center; 
  /* üëÜ */
  
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.25s ease, filter 0.25s ease;
  
  /* üëá C·∫¢I THI·ªÜN ƒê·ªò S·∫ÆC N√âT (√ÅP D·ª§NG CHO BACKGROUND IMAGE) */
  image-rendering: -webkit-optimize-contrast; /* D√†nh cho tr√¨nh duy·ªát c≈© c·ªßa WebKit */
  image-rendering: crisp-edges; /* C·ªë g·∫Øng duy tr√¨ ƒë·ªô s·∫Øc n√©t c·ªßa vi·ªÅn */
  
  /* N·∫øu h√¨nh ·∫£nh qu√¢n c·ªù c·ªßa b·∫°n l√† ·∫£nh vector (SVG), b·∫°n c√≥ th·ªÉ b·ªè 2 d√≤ng tr√™n
     ho·∫∑c th·ª≠ d√πng 'pixelated' n·∫øu b·∫°n mu·ªën hi·ªáu ·ª©ng pixel r√µ r√†ng. */
}

/* Kh·ªëi n√†y hi·ªán KH√îNG c√≥ t√°c d·ª•ng v√¨ b·∫°n d√πng background-image trong JS */
.piece img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  image-rendering: crisp-edges;
  image-rendering: pixelated;
  pointer-events: none;
}


.piece:hover {
  transform: scale(1.12);
  filter: brightness(1.2);
}

/* ... C√°c ph·∫ßn c√≤n l·∫°i c·ªßa style.css gi·ªØ nguy√™n ... */
/* ===========================
   CONTROL SECTION
=========================== */
.control-section {
  background: rgba(255,255,255,0.08);
  border-radius: 14px;
  padding: 20px 30px;
  box-shadow: 0 4px 18px rgba(0,0,0,0.3);
  text-align: center;
  margin-top: 50px;
}

label {
  display: block;
  font-weight: 600;
  color: var(--text-light);
  margin-bottom: 10px;
  font-size: 1.05rem;
}

/* Th√™m/S·ª≠a kh·ªëi n√†y trong style.css */
.file-label, .rank-label {
  position: absolute; /* Cho ph√©p ƒë·∫∑t ngo√†i r√¨a */
  font-size: 1 rem;
  font-weight: bold;
  color: var(--text-light);
  pointer-events: none; 
  opacity: 0.6;
}

/* Nh√£n c·ªôt a-h (H√†ng 1) */
.file-label {
  text-align: center;
  width: calc(var(--board-size) / 8); 
  transform: translateX(-50%); 
}

/* Nh√£n h√†ng 1-8 (C·ªôt h) */
.rank-label {
  /* ... C√°c thu·ªôc t√≠nh c∆° b·∫£n gi·ªØ nguy√™n ... */
  text-align: left; /* üëà THAY ƒê·ªîI CƒÇN CH·ªàNH VƒÇN B·∫¢N SANG TR√ÅI */
  height: calc(var(--board-size) / 8); 
  display: flex;
  align-items: center;
  justify-content: flex-start; /* üëà THAY justify-content T·ª™ 'flex-end' SANG 'flex-start' */
  padding-left: 5px; /* üëà THAY padding-right SANG padding-left */
  padding-right: 0; /* ƒê·∫£m b·∫£o kh√¥ng c√≤n padding ·ªü b√™n ph·∫£i */
  transform: translateY(-50%); 
}

/* ===========================
   CSS CHO CHUY·ªÇN V·ªä TR√ç NH√ÉN (KH√îNG XOAY)
=========================== */

input[type="range"] {
  width: 260px;
  cursor: pointer;
  accent-color: var(--primary);
}

.btn-group {
  margin-top: 18px;
  display: flex;
  justify-content: center;
  gap: 16px;
}

/* ===========================
   N√öT B·∫§M HI·ªÜU ·ª®NG
=========================== */
.btn {
  padding: 12px 28px;
  font-size: 1rem;
  font-weight: 600;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  color: white;
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
}

/* Hi·ªáu ·ª©ng √°nh s√°ng hover */
.btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -75%;
  width: 50%;
  height: 100%;
  background: linear-gradient(120deg, rgba(255,255,255,0.2), rgba(255,255,255,0.6), rgba(255,255,255,0.2));
  transform: skewX(-25deg);
  transition: left 0.4s ease;
}

.btn:hover::before {
  left: 130%;
}

.btn.primary {
  background: linear-gradient(135deg, var(--primary), var(--primary-light));
  box-shadow: 0 4px 12px rgba(74,144,226,0.4);
}

.btn.secondary {
  background: linear-gradient(135deg, var(--secondary), #ff8686);
  box-shadow: 0 4px 12px rgba(255,92,92,0.4);
}

.btn:hover {
  transform: translateY(-3px);
  filter: brightness(1.1);
}


/* ===========================
   FOOTER
=========================== */
footer {
  color: var(--text-muted);
  font-size: 0.9rem;
  margin: 30px 0 20px;
  text-align: center;
}



/* ===========================
   RESPONSIVE: CHO THI·∫æT B·ªä ƒêI·ªÜN THO·∫†I (Max Width: 768px)
   =========================== */
@media (max-width: 768px) {
    
    /* 1. K√≠ch th∆∞·ªõc b√†n c·ªù */
    :root {
        /* Gi·∫£m k√≠ch th∆∞·ªõc b√†n c·ªù t·ªëi ƒëa cho ƒëi·ªán tho·∫°i */
        --board-size: min(90vw, 400px); 
    }

    /* 2. B·ªë c·ª•c ch√≠nh */
    .main {
        flex-direction: column; /* Chuy·ªÉn t·ª´ ngang sang d·ªçc */
        padding: 10px;
        gap: 30px; 
    }
    
    /* 3. Ti√™u ƒë·ªÅ nh·ªè h∆°n */
    .header h1 {
        font-size: 1.5rem;
    }

    /* 4. Ph·∫ßn ƒëi·ªÅu khi·ªÉn (Control Section) */
    .control-section {
        width: 100%; /* Chi·∫øm to√†n b·ªô chi·ªÅu r·ªông */
        max-width: 400px; /* Gi·ªõi h·∫°n ƒë·ªÉ ph√π h·ª£p v·ªõi b√†n c·ªù */
        padding: 0;
    }

    /* Thanh Range v√† Nh√£n */
    #countRange {
        width: 80%;
        max-width: 400px;
        margin: 0px 15px;
    }
    label{
        margin-top: 20px;
    }

    /* N√∫t b·∫•m x·∫øp d·ªçc */
    .btn-group {
        flex-direction: column; /* X·∫øp c√°c n√∫t th√†nh c·ªôt */
        gap: 10px;
        padding: 20px 15px;
        margin-top: 15px;
    }

    .btn {
        width: 100%;
        padding: 12px 0; /* ƒê·ªám d·ªçc l·ªõn h∆°n cho n√∫t d·ªÖ b·∫•m */
    }

    /* 5. ƒêi·ªÅu ch·ªânh v·ªã tr√≠ Nh√£n T·ªça ƒë·ªô (rank-label & file-label) */
    
    /* Gi·∫£m k√≠ch th∆∞·ªõc ph√¥ng ch·ªØ nh√£n */
    .rank-label,
    .file-label {
        font-size: 0.75rem; /* Ph√¥ng ch·ªØ nh·ªè h∆°n */
        font-weight: 500;
        /* Gi·∫£m chi·ªÅu r·ªông/cao cho v√πng hi·ªÉn th·ªã nh·ªè h∆°n */
        width: 20px;
        height: 20px;
    }
    
    /* V·ªã tr√≠ ban ƒë·∫ßu: Nh√£n c·ªôt (a-h) */
    .file-label {
        bottom: -25px; /* ƒê∆∞a nh√£n l√™n g·∫ßn r√¨a h∆°n */
    }
    
    /* V·ªã tr√≠ ban ƒë·∫ßu: Nh√£n h√†ng (1-8) */
    .rank-label {
        left: -25px; /* ƒê∆∞a nh√£n v√†o g·∫ßn r√¨a h∆°n */
    }


    /* Footer nh·ªè h∆°n */
    footer {
        font-size: 0.75rem;
        padding: 10px;
    }
}